@page
@model ServiceHost.Areas.Admin.Pages.Blog.Articles.CreateModel
@{
    ViewData["Title"] = "ایجاد مقاله جدید";
}

<div class="container p-4">
    <div class="bg-white p-4">
        <h4 class="mb-4">ایجاد دسته بندی مقاله جدید</h4>

        <form asp-page="" method="post" enctype="multipart/form-data">

            <div class="row">
                <div class="col-md-6">
                    <div class="form-group mb-3">
                        <label asp-for="Command.Title" class="control-label">نام</label>
                        <input type="text" class="form-control" asp-for="Command.Title"
                               onchange="makeSlug('Command_Title', 'Command_Slug')">
                        <span asp-validation-for="Command.Title" class="text-danger fs-8"></span>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group mb-3">
                        <label asp-for="Command.Slug" class="control-label">اسلاگ</label>
                        <input type="text" class="form-control" asp-for="Command.Slug">
                        <span asp-validation-for="Command.Slug" class="text-danger fs-8"></span>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6">
                    <div class="form-group mb-3">
                        <label asp-for="Command.Picture" class="control-label">عکس</label>
                        <input type="file" class="form-control" asp-for="Command.Picture" accept="image/*">
                        <span asp-validation-for="Command.Picture" class="text-danger fs-8"></span>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group mb-3">
                        <label class="form-label fs-8" asp-for="Command.CategoryId">دسته بندی</label>
                        <select class="form-select fs-8 NoValidate" aria-label="Default select example" asp-for="Command.CategoryId" asp-items="Model.ArticleCategories">
                            <option value="0" selected>گروه محصولی ...</option>
                        </select>
                        <span asp-validation-for="Command.CategoryId" class="text-danger fs-8"></span>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6">
                    <div class="form-group mb-3">
                        <label asp-for="Command.PictureAlt" class="control-label">Alt</label>
                        <input type="text" class="form-control NoValidate" asp-for="Command.PictureAlt">
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group mb-3">
                        <label asp-for="Command.PictureTitle" class="control-label">عنوان عکس</label>
                        <input type="text" class="form-control NoValidate" asp-for="Command.PictureTitle">
                    </div>
                </div>
            </div>

            <div class="form-group mb-3">
                <label asp-for="Command.ShortDescription" class="control-label">توضیحات کوتاه</label>
                <textarea class="form-control autogrow NoValidate" asp-for="Command.ShortDescription"
                          onchange="fillField('Command_ShortDescription', 'Command_MetaDescription')"
                          style="overflow: hidden; word-wrap: break-word; resize: horizontal; height: 104px;"></textarea>
                <span asp-validation-for="Command.ShortDescription" class="text-danger fs-8"></span>
            </div>

            <div class="form-group mb-3">
                <label asp-for="Command.Description" class="control-label">توضیحات</label>
                <textarea class="form-control autogrow NoValidate BodyContent" asp-for="Command.Description"
                          style="overflow: hidden; word-wrap: break-word; resize: horizontal; height: 104px;"></textarea>
                <span asp-validation-for="Command.Description" class="text-danger fs-8"></span>
            </div>

            <div class="row">
                <div class="col-6">
                    <div class="form-group mb-3">
                        <label asp-for="Command.KeyWords" class="control-label">کلمه کلیدی</label>
                        <input type="text" class="form-control NoValidate" asp-for="Command.KeyWords">
                    </div>
                </div>

                <div class="col-6">
                    <div class="form-group mb-3">
                        <label asp-for="Command.PublishDate" class="control-label">تاریخ انتشار</label>
                        <input type="text" class="form-control NoValidate persianDate" asp-for="Command.PublishDate" readonly>
                    </div>
                </div>
            </div>

            <div class="form-group mb-3">
                <label asp-for="Command.MetaDescription" class="control-label">توضیحات متا</label>
                <textarea class="form-control autogrow" asp-for="Command.MetaDescription"
                          style="overflow: hidden; word-wrap: break-word; resize: horizontal; height: 104px;"></textarea>
                <span asp-validation-for="Command.MetaDescription" class="text-danger fs-8"></span>
            </div>

            <div class="row">
                <div class="col-12">
                    <div class="form-group mb-3">
                        <label asp-for="Command.CanonicalAddress" class="control-label">کنونیکال آدرس</label>
                        <input type="text" class="form-control NoValidate" asp-for="Command.CanonicalAddress">
                    </div>
                </div>
            </div>

            <div class="d-flex justify-content-end mt-3">
                <button type="submit" class="btn btn-info">ایجاد</button>
            </div>
        </form>
    </div>
</div>

@section Scripts {
    <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
    <script src="~/js/DisableAutoFocus.js"></script>
    <partial name="_ValidationScriptsPartial" />
    <script src="~/Admin_temp/js/site.js"></script>

    <script>
        $(document).ready(function () {
            $(".persianDate").pDatepicker({
                format: "YYYY/MM/DD",
                autoClose: true,
                calendar: {
                    persian: true
                },
                navigator: {
                    text: {
                        btnNextText: "بعدی",
                        btnPrevText: "قبلی"
                    }
                },
                timezone: "Asia/Tehran", // تنظیم منطقه زمانی ایران
                initialDate: new Date() // تنظیم تاریخ اولیه به امروز
            });
        });
    </script>

    <!-- persian-date -->
    <script src="https://unpkg.com/persian-date@1.1.0/dist/persian-date.min.js"></script>
    <!-- persian-datepicker -->
    <script src="https://unpkg.com/persian-datepicker@1.2.0/dist/js/persian-datepicker.min.js"></script>
}